---
title: Mac设置同时访问内外网
date: 2021-02-07 21:28:58
tags: mac
---
在银行工作过程中，有时候我们需要使用网线连接电脑，连内网登录虚拟机访问虚拟桌面，外网用于日常使用。所以一般会将wifi设置成外网并优先访问，以太网设置为内网。但是当我第一次添加内网时，ping成功了，但是只能讲外网关掉才能访问，不能同时访问，此时我们需要要清除所有网络配置，重新设置一下就好。
具体操作：
1.打开终端
2.输入以下指令
netstat -rn --查看路由表
route get 0.0.0.0 --获取默认路由
sudo route delete 0.0.0.0 --删除默认路由
sudo route add -net 0.0.0.0 x.x.x.x --添加外网网关
sudo route add -net y.y.y.y x.x.x.x --添加内网网关（注意这里ip地址是自己要访问内网的ip地址，如果只访问某一台，可以将y.y.y.y改成固定的IP）
3.去网络设置里面设置服务顺序，这里设置外网wifi优先（选中拖动即可）